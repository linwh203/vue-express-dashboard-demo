"use strict";(globalThis["webpackChunkweb"]=globalThis["webpackChunkweb"]||[]).push([[896],{896:(t,e,a)=>{a.r(e),a.d(e,{default:()=>Et});a(8964),a(702);var s=a(9835),l=a(6970),i=a(499),r=a(2729),n=a(9302),o=a(9453),c=a(476),d=a(6143);const u={__name:"CBar",props:{chartData:{type:Object,required:!0},chartId:{type:String,default:"bar-chart"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>{}},chartOptions:{type:Object,default:()=>({responsive:!0,maintainAspectRatio:!1,indexAxis:"y",scales:{xAxis:{min:95,ticks:{callback:function(t,e,a){return t+"%"}}}},plugins:{legend:{display:!1}}})},plugins:{type:Array,default:()=>[]}},setup(t){const e=t;return c.kL.register(c.Dx,c.u,c.De,c.ZL,c.uw,c.f$),c.kL.register(d.Z),(t,a)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)((0,i.SU)(o.$Q),{"chart-options":e.chartOptions,"chart-data":e.chartData,"chart-id":e.chartId,"dataset-id-key":e.datasetIdKey,plugins:e.plugins,"css-classes":e.cssClasses,styles:e.styles,width:e.width,height:e.height},null,8,["chart-options","chart-data","chart-id","dataset-id-key","plugins","css-classes","styles","width","height"])]))}},p=u,h=p;var g=a(8080);const y={id:"myChart",width:"600",height:"200"},f={__name:"CBarCombineLine",props:{chartData:{type:Object,required:!0},chartId:{type:String,default:"bar-chart"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>{}},chartOptions:{type:Object,default:()=>({responsive:!0,maintainAspectRatio:!1,scales:{y:{type:"linear",display:!0,position:"left",max:50,color:"#ffffff"},y1:{type:"linear",display:!0,position:"right",grace:"5%",max:100,grid:{drawOnChartArea:!1},ticks:{callback:function(t,e,a){return t+"%"}}}},plugins:{legend:{}}})},plugins:{type:Array,default:()=>[]}},setup(t){const e=t;return(0,s.bv)((()=>{const t=document.getElementById("myChart").getContext("2d");new g.Z(t,{type:"bar",data:e.chartData,options:e.chartOptions})})),(t,e)=>((0,s.wg)(),(0,s.iD)("canvas",y))}},b=f,v=b,m={__name:"CLine",props:{chartData:{type:Object,required:!0},chartId:{type:String,default:"line-chart"},width:{type:Number,default:400},height:{type:Number,default:200},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>{}},chartOptions:{type:Object,default:()=>({responsive:!0,interaction:{mode:"nearest",axis:"x",intersect:!1},scales:{x:{title:{display:!0,text:"Date"}},y:{stacked:!1,title:{display:!0,text:"OOC"}}},plugins:{legend:{display:!0,position:"right",align:"start",labels:{usePointStyle:!0,pointStyle:"circle",font:{size:10}}}}})},plugins:{type:Array,default:()=>[]}},setup(t){const e=t;return c.kL.register(c.Dx,c.u,c.De,c.jn,c.f$,c.od,c.uw),(t,a)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)((0,i.SU)(o.x1),{"chart-options":e.chartOptions,"chart-data":e.chartData,"chart-id":e.chartId,"dataset-id-key":e.datasetIdKey,plugins:e.plugins,"css-classes":e.cssClasses,styles:e.styles,width:e.width,height:e.height},null,8,["chart-options","chart-data","chart-id","dataset-id-key","plugins","css-classes","styles","width","height"])]))}},w=m,x=w;var _=a(1569);const C=["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],D=["rgb(255, 99, 132, 0.5)","rgb(255, 159, 64, 0.5)","rgb(255, 205, 86, 0.5)","rgb(75, 192, 192, 0.5)","rgb(54, 162, 235, 0.5)","rgb(153, 102, 255, 0.5)","rgb(201, 203, 207, 0.5)"],O={__name:"CPolar",props:{chartData:{type:Object,required:!0},chartId:{type:String,default:"polar-chart"},width:{type:Number,default:200},height:{type:Number,default:200},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>{}},chartOptions:{type:Object,default:()=>({responsive:!0,maintainAspectRatio:!1,scales:{r:{pointLabels:{display:!0,centerPointLabels:!0,font:{size:10}}}},plugins:{legend:{display:!0,position:"left",align:"start",labels:{usePointStyle:!0,pointStyle:"circle",font:{size:10}}}}})}},setup(t){const e=t;return c.kL.register(c.Dx,c.u,c.De,c.qi,c.l7),(t,a)=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)((0,i.SU)(o.xz),{"chart-options":e.chartOptions,"chart-data":e.chartData,"chart-id":e.chartId,"css-classes":e.cssClasses,styles:e.styles,width:e.width,height:e.height},null,8,["chart-options","chart-data","chart-id","css-classes","styles","width","height"])]))}},k=O,q=k,S=t=>((0,s.dD)("data-v-23369a12"),t=t(),(0,s.Cn)(),t),z={class:"container"},W={class:"row"},j={class:"flex col shadow-1 row"},H={class:"chart-golden-cham col-8 relative-position q-pa-md"},I={class:"data-golden-cham col-4 relative-position q-py-lg q-pr-md"},N={key:0},T=S((()=>(0,s._)("div",{class:"title text-h5 text-primary text-weight-bold"}," Golden Chamber ",-1))),A={class:"title-content text-subtitle1 text-weight-medium q-py-lg"},L={class:"section"},Z={class:"row"},F=S((()=>(0,s._)("span",{class:"col indigo-14 text-body2"},"Recipe:",-1))),P={class:"col text-subtitle1"},R={class:"row"},E=S((()=>(0,s._)("span",{class:"col indigo-14 text-body2"},"From:",-1))),$={class:"col text-body2"},B={class:"row"},G=S((()=>(0,s._)("span",{class:"col indigo-14 text-body2"},"To:",-1))),M={class:"col text-body2"},Q={class:"col shadow-1"},U={class:"row q-pa-lg relative-position shadow-1"},V={class:"col-5"},K=S((()=>(0,s._)("div",{class:"text-h5 text-primary text-weight-bold"}," G2G Performance ",-1))),J={class:"row q-py-lg relative-position"},X={class:"col"},Y=S((()=>(0,s._)("p",{class:"indigo-14 text-body2"},"Best(h):",-1))),tt={class:"text-h6"},et={class:"col"},at=S((()=>(0,s._)("p",{class:"indigo-14 text-body2"},"Average(h):",-1))),st={class:"text-h6"},lt={class:"col"},it=S((()=>(0,s._)("p",{class:"indigo-14 text-body2"},"Count:",-1))),rt={class:"text-h6"},nt={class:"col-7 flex flex-center relative-position"},ot={class:"absolute-full flex flex-center"},ct={class:"row q-pa-lg relative-position"},dt={class:"col-5"},ut=S((()=>(0,s._)("div",{class:"text-h5 text-primary text-weight-bold"}," Seasoning Available@ ",-1))),pt={class:"row q-py-lg relative-position"},ht={class:"col"},gt=S((()=>(0,s._)("p",{class:"indigo-14 text-body2"},"Best(pcs):",-1))),yt={class:"text-h6"},ft={class:"col"},bt=S((()=>(0,s._)("p",{class:"indigo-14 text-body2"},"Average(pcs):",-1))),vt={class:"text-h6"},mt={class:"col flex flex-center relative-position"},wt={class:"row"},xt={class:"col-7 shadow-1"},_t={class:"q-pa-lg relative-position full-height chartBlock"},Ct=S((()=>(0,s._)("div",{class:"text-h5 text-primary text-weight-bold q-pb-md"}," Daily OOC Summary ",-1))),Dt={class:"col shadow-1"},Ot={class:"q-pa-lg"},kt=S((()=>(0,s._)("div",{class:"text-h5 text-primary text-weight-bold"}," Prediction by Virtual Metrology ",-1))),qt={class:"relative-position"},St=S((()=>(0,s._)("div",{class:"text-body2 text-secondary text-weight-medium q-pl-sm"}," Chambers request PM within 2days ",-1))),zt={class:"relative-position"},Wt=S((()=>(0,s._)("div",{class:"text-body2 text-secondary text-weight-medium q-pl-sm"}," Chambers present Lower ER risk within 2 days ",-1))),jt={__name:"IndexPage",setup(t){const e=(0,n.Z)(),a=(0,i.iH)(!1),o=(0,i.iH)(!1),c=(0,i.iH)(!1),d=(0,i.iH)(!1),u=(0,i.iH)(!1),p=(0,i.iH)(!1),g=(0,i.iH)(!1),y=(0,i.iH)([]),f=(0,i.iH)({}),b=(0,i.iH)({}),m=(0,i.iH)([]),w=(0,i.iH)({}),O=(0,i.iH)({}),k=(0,i.iH)([]),S=(0,i.iH)({}),jt=(0,i.iH)({}),Ht=(0,i.iH)([]),It=(0,i.iH)([]),Nt=(0,s.Fl)((()=>b.value.ratio?Math.round(1e4*Number(b.value.ratio))/100+"%":"-")),Tt=(0,s.Fl)((()=>{if(m.value.length){const t=m.value,e=t.sort(((t,e)=>t.stable_wafer-e.stable_wafer))[0];return e.stable_wafer}return"-"})),At=(0,s.Fl)((()=>{if(m.value.length){const t=m.value;let e=0;return t.reduce(((t,a)=>{e+=Number(a.stable_wafer)}),e),Math.round(e/m.value.length)}return"-"}));function Lt(t){const e=[],a=[],s=[],l=t.map((t=>({...t,dataValue:Number(t.MatchRatio.replace(/\%/,""))})));l.sort(((t,e)=>e.dataValue-t.dataValue)).forEach(((t,l)=>{e.push(`${t.Tool} ${t.Cham}`),a.push(t.dataValue),s.push(0===l?(0,r.Z)("warning"):(0,r.Z)("primary"))}));const i={labels:e,datasets:[{label:"",backgroundColor:s,data:a,datalabels:{align:"end",anchor:"end",formatter:function(t,e){return`${t}%`}}}]};y.value={...i}}function Zt(t){const e=[],a=[],s=[];let l=0;t.splice(0,10).forEach(((t,i)=>{e.push(t.stable_wafer),a.push(Number(t.stable_wafer)),l+=Number(t.stable_wafer),s.push(l)}));const i=s[s.length-1],n={labels:e,datasets:[{type:"bar",label:"stable_wafer",data:a,backgroundColor:(0,r.Z)("primary"),order:1,yAxisID:"y",datalabels:{color:"white"}},{type:"line",label:"stable_wafer percentage",data:s.map((t=>(t/i*100).toFixed(0))),borderColor:(0,r.Z)("warning"),backgroundColor:(0,r.Z)("warning"),order:0,yAxisID:"y1",datalabels:{color:"#666666",align:"center",anchor:"end",font:{size:12},formatter:function(t,e){return`${t}%`}}}]};w.value={...n},d.value=!1}function Ft(t){const e=t.filter((t=>t.OOC&&""!==t.OOC)).map((t=>{const e=t.lastDate.split("/").map((t=>Number(t)<10?`0${t}`:t));return{...t,lastDate:e[1]+"-"+e[0]}})).sort(((t,e)=>{const a=new Date(t.lastDate).getTime(),s=new Date(e.lastDate).getTime();return a-s})),a={};e.forEach((t=>{a[t["\ufeffTool/Chamber"]]?a[t["\ufeffTool/Chamber"]].push(t):a[t["\ufeffTool/Chamber"]]=[t]}));const s=Object.keys(a);let l=[];for(let r in a)a[r].forEach((t=>{l.push(t.lastDate)}));l=Array.from(new Set(l));const i={labels:l,datasets:s.map(((t,e)=>({label:t,data:a[t].map((t=>Number(t.OOC))),borderColor:C[e],backgroundColor:D[e],fill:!0,datalabels:{display:!1}})))};O.value={...i}}function Pt(t){const e=[],a=[];t.forEach((t=>{e.push(t["\ufeffTool/Chamber"]),a.push(Number(t.alarmChamber))}));const s={labels:e,datasets:[{label:"",data:a,backgroundColor:a.map(((t,e)=>D[e])),datalabels:{display:!1}}]};function l(){const t=t=>{const e=t[0].dataIndex;return"Level: "+k.value[e].Level},e=t=>{const e=t[0].dataIndex;return"Message: "+k.value[e].Message},a=t=>{const e=t[0].dataIndex;return"RFTime: "+k.value[e].RFTime};return{responsive:!0,maintainAspectRatio:!1,scales:{r:{pointLabels:{display:!0,centerPointLabels:!0,font:{size:10}}}},plugins:{legend:{display:!0,position:"left",align:"start",labels:{usePointStyle:!0,pointStyle:"circle",font:{size:10}}},tooltip:{callbacks:{afterTitle:t,beforeFooter:a,footer:e}}}}}S.value={...s},jt.value={...l()}}function Rt(t){const e=t.map((t=>{const[e,a]=t["\ufeffTool/Chamber/Date"].split(" ");return{chamber:e,date:a,er:Number(t.stable_wafer)}})).sort(((t,e)=>{const a=new Date(t.date).getTime(),s=new Date(e.date).getTime();return a-s})),a={};let s=[];e.forEach((t=>{a[t.chamber]?a[t.chamber].push({date:t.date,er:t.er}):a[t.chamber]=[{date:t.date,er:t.er}],s.push(t.date)}));const l=Object.keys(a).sort(((t,e)=>{const a=t.split("-")[1],s=e.split("-")[1];return a-s}));s=Array.from(new Set(s));const i=l.map(((t,e)=>({label:t,data:s.map((e=>n(e,a[t]))),borderColor:C[e],backgroundColor:D[e],fill:!0,datalabels:{display:!1}}))),r={labels:s,datasets:i};function n(t,e){const a=e.filter((e=>e.date===t));return a.length?a[0].er:0}function o(){return{responsive:!0,interaction:{mode:"nearest",axis:"x",intersect:!1},scales:{x:{title:{display:!0,text:"Date"}},y:{stacked:!1,title:{display:!0,text:"Stable Wafer"}}},plugins:{legend:{display:!0,position:"left",align:"start",labels:{usePointStyle:!0,pointStyle:"circle",font:{size:10}}}}}}Ht.value={...r},It.value={...o()}}function Et(){a.value=!0,o.value=!0,c.value=!0,d.value=!0,u.value=!0,p.value=!0,g.value=!0}async function $t(){try{const{data:t}=await _.api.get("/getGolenChamData");Lt(t.data)}catch(t){Kt("Fetch goldencham data failed...")}a.value=!1}async function Bt(){try{const{data:t}=await _.api.get("/getGolenCham");f.value=t.data[0]}catch(t){Kt("Fetch goldencham failed...")}o.value=!1}async function Gt(){try{const{data:t}=await _.api.get("/getG2g");b.value=t.data[0]}catch(t){Kt("Fetch G2G failed...")}c.value=!1}async function Mt(){try{const{data:t}=await _.api.get("/getOer");m.value=t.data,Zt(t.data)}catch(t){Kt("Fetch OER failed..."),d.value=!1}}async function Qt(){try{const{data:t}=await _.api.get("/getOoc");Ft(t.data)}catch(t){Kt("Fetch OOC failed...")}u.value=!1}async function Ut(){try{const{data:t}=await _.api.get("/getPm");k.value=t.data,Pt(t.data)}catch(t){Kt("Fetch PM failed...")}p.value=!1}async function Vt(){try{const{data:t}=await _.api.get("/getSeason");Rt(t.data)}catch(t){Kt("Fetch Season failed...")}g.value=!1}function Kt(t="",a="top"){e.notify({type:"negative",position:a,message:t})}const Jt=t=>({minHeight:t?`calc(100vh - ${t}px)`:"100vh"});return(0,s.bv)((()=>{Et(),$t(),Bt(),Gt(),Mt(),Qt(),Ut(),Vt()})),(t,e)=>{const r=(0,s.up)("q-spinner-bars"),n=(0,s.up)("q-inner-loading"),m=(0,s.up)("q-spinner-tail"),_=(0,s.up)("q-badge"),C=(0,s.up)("q-linear-progress"),D=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(D,{class:"q-px-lg q-py-sm flex flex-center","style-fn":Jt},{default:(0,s.w5)((()=>[(0,s._)("div",z,[(0,s._)("div",W,[(0,s._)("div",j,[(0,s._)("div",H,[a.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(h,{key:0,chartData:y.value},null,8,["chartData"])),(0,s.Wm)(n,{showing:a.value},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{size:"50px",color:"primary"})])),_:1},8,["showing"])]),(0,s._)("div",I,[o.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",N,[T,(0,s._)("div",A,(0,l.zw)(f.value["\ufeffTool/Chamber"]),1),(0,s._)("div",L,[(0,s._)("p",Z,[F,(0,s._)("span",P,(0,l.zw)(f.value.Recipe),1)]),(0,s._)("p",R,[E,(0,s._)("span",$,(0,l.zw)(f.value.minDate),1)]),(0,s._)("p",B,[G,(0,s._)("span",M,(0,l.zw)(f.value.maxDate),1)])])])),(0,s.Wm)(n,{showing:o.value},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{size:"50px",color:"primary"})])),_:1},8,["showing"])])]),(0,s._)("div",Q,[(0,s._)("div",U,[(0,s._)("div",V,[K,(0,s._)("div",J,[(0,s._)("div",X,[Y,(0,s._)("p",tt,(0,l.zw)(b.value["\ufeffbest"]),1)]),(0,s._)("div",et,[at,(0,s._)("p",st,(0,l.zw)(b.value["avg"]),1)]),(0,s._)("div",lt,[it,(0,s._)("p",rt,(0,l.zw)(b.value["count"]),1)]),(0,s.Wm)(n,{showing:c.value},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{size:"50px",color:"primary"})])),_:1},8,["showing"])])]),(0,s._)("div",nt,[(0,s.Wm)(C,{size:"6rem",value:b.value.ratio?Number(b.value.ratio):0,color:"secondary","animation-speed":"1000"},{default:(0,s.w5)((()=>[(0,s._)("div",ot,[(0,s.Wm)(_,{color:"white","text-color":"accent",label:(0,i.SU)(Nt)},null,8,["label"])])])),_:1},8,["value"]),(0,s.Wm)(n,{showing:c.value},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{size:"50px",color:"primary"})])),_:1},8,["showing"])])]),(0,s._)("div",ct,[(0,s._)("div",dt,[ut,(0,s._)("div",pt,[(0,s._)("div",ht,[gt,(0,s._)("p",yt,(0,l.zw)((0,i.SU)(Tt)),1)]),(0,s._)("div",ft,[bt,(0,s._)("p",vt,(0,l.zw)((0,i.SU)(At)),1)]),(0,s.Wm)(n,{showing:d.value},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{size:"50px",color:"primary"})])),_:1},8,["showing"])])]),(0,s._)("div",mt,[d.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(v,{key:0,chartData:w.value},null,8,["chartData"])),(0,s.Wm)(n,{showing:d.value},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{size:"50px",color:"primary"})])),_:1},8,["showing"])])])])]),(0,s._)("div",wt,[(0,s._)("div",xt,[(0,s._)("div",_t,[Ct,u.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(x,{key:0,chartData:O.value,height:160},null,8,["chartData"])),(0,s.Wm)(n,{showing:u.value},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{size:"50px",color:"primary"})])),_:1},8,["showing"])])]),(0,s._)("div",Dt,[(0,s._)("div",Ot,[kt,(0,s._)("div",qt,[St,p.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(q,{key:0,chartData:S.value,chartOptions:jt.value},null,8,["chartData","chartOptions"])),(0,s.Wm)(n,{showing:p.value},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{size:"50px",color:"primary"})])),_:1},8,["showing"])]),(0,s._)("div",zt,[Wt,g.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(x,{key:0,chartData:Ht.value,chartOptions:It.value,height:140},null,8,["chartData","chartOptions"])),(0,s.Wm)(n,{showing:g.value},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{size:"50px",color:"primary"})])),_:1},8,["showing"])])])])])])])),_:1})}}};var Ht=a(1639),It=a(9885),Nt=a(854),Tt=a(3382),At=a(261),Lt=a(8289),Zt=a(990),Ft=a(9984),Pt=a.n(Ft);const Rt=(0,Ht.Z)(jt,[["__scopeId","data-v-23369a12"]]),Et=Rt;Pt()(jt,"components",{QPage:It.Z,QInnerLoading:Nt.Z,QSpinnerBars:Tt.Z,QSpinnerTail:At.Z,QLinearProgress:Lt.Z,QBadge:Zt.Z})}}]);